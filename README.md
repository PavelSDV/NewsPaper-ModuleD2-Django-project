# ModuleD2_project_NewsPaper

-----------------------
Проект NewsPaper. Итоговое задание

В ходе этого модуля вы шаг за шагом изучали принципы построения баз данных и создания моделей, а также размышляли над собственным приложением NewsPaper. Итоговое задание этого модуля заключается в создании этого приложения (пока что только моделей).

Что в нём должно быть?

Модель Author

Модель, содержащая объекты всех авторов.

Имеет следующие поля:
cвязь «один к одному» с встроенной моделью пользователей User;

рейтинг пользователя. Ниже будет дано описание того, как этот рейтинг можно посчитать.

Модель Category

Категории новостей/статей — темы, которые они отражают (спорт, политика, образование и т. д.). Имеет единственное поле: название категории. Поле должно быть уникальным (в определении поля необходимо написать параметр unique = True).

Модель Post

Эта модель должна содержать в себе статьи и новости, которые создают пользователи. Каждый объект может иметь одну или несколько категорий.

Соответственно, модель должна включать следующие поля:

связь «один ко многим» с моделью Author;

поле с выбором — «статья» или «новость»;

автоматически добавляемая дата и время создания;

связь «многие ко многим» с моделью Category (с дополнительной моделью PostCategory);

заголовок статьи/новости;

текст статьи/новости;

рейтинг статьи/новости.

Модель PostCategory

Промежуточная модель для связи «многие ко многим»:

связь «один ко многим» с моделью Post;

связь «один ко многим» с моделью Category.

Модель Comment

Под каждой новостью/статьёй можно оставлять комментарии, поэтому необходимо организовать их способ хранения тоже.

Модель будет иметь следующие поля:

связь «один ко многим» с моделью Post;

связь «один ко многим» со встроенной моделью User (комментарии может оставить любой пользователь, необязательно автор);

текст комментария;

дата и время создания комментария;

рейтинг комментария.

Эти модели должны также реализовать методы:

Методы like() и dislike() в моделях Comment и Post, которые увеличивают/уменьшают рейтинг на единицу.

Метод preview() модели Post, который возвращает начало статьи (предварительный просмотр) длиной 124 символа и добавляет многоточие в конце.

Метод update_rating() модели Author, который обновляет рейтинг пользователя, переданный в аргумент этого метода.

Он состоит из следующего:

суммарный рейтинг каждой статьи автора умножается на 3;

суммарный рейтинг всех комментариев автора;

суммарный рейтинг всех комментариев к статьям автора.

В качестве результата задания подготовьте файл, в котором напишете список всех команд, запускаемых в Django shell.

Что вы должны сделать в консоли Django?

Создать двух пользователей (с помощью метода User.objects.create_user).

Создать два объекта модели Author, связанные с пользователями.

Добавить 4 категории в модель Category.

Добавить 2 статьи и 1 новость.

Присвоить им категории (как минимум в одной статье/новости должно быть не меньше 2 категорий).

Создать как минимум 4 комментария к разным объектам модели Post (в каждом объекте должен быть как минимум один комментарий).

Применяя функции like() и dislike() к статьям/новостям и комментариям, скорректировать рейтинги этих объектов.

Обновить рейтинги пользователей.

Вывести username и рейтинг лучшего пользователя (применяя сортировку и возвращая поля первого объекта).

Вывести дату добавления, username автора, рейтинг, заголовок и превью лучшей статьи, основываясь на лайках/дислайках к этой статье.

Вывести все комментарии (дата, пользователь, рейтинг, текст) к этой статье.

Созданное вами приложение вместе с файлом с командами необходимо загрузить в git-репозиторий.

-------------------------
-------------------------
Итоговая оценка

16
из 16
баллов

1
Директория с проектом лежит в git-репозитории
Отлично
1 балла

2
Создано приложение и подключено к проекту
Отлично
1 балла

3
Модели
Отлично
2 балла

4
Методы моделей
Отлично
1 балла

5
Объекты модели Author
Отлично
1 балла

6
Объекты моделей Category и Post
Отлично
1 балла

7
Связь «многие ко многим» между моделями Category и Post
Отлично
1 балла


8
Комментарии к объектам Post
Отлично
1 балла

9
Рейтинги
Отлично
2 балла

10
Лучший пользователь
Отлично
1 балла

11
Лучшая статья
Отлично
1 балла

12
Все комментарии к лучшей статье
Отлично
1 балла

13
Список команд
Отлично
1 балла

14
Миграции
Отлично
1 балла

Здравствуйте!

Работа оценена максимальными баллами по каждому критерию.
Благодарю за качественную реализацию запросов и их сохранение в отдельный файл.

Здорово, что используете методы add и values для добавления категорий в статью и одновременного вывода сразу нескольких полей модели.

В целом отличная работа, так держать!
Проверку выполнила ментор Попова Екатерина.
Если у вас остались вопросы, вы можете обратиться в канал  PWS_м_d2 в Пачке


